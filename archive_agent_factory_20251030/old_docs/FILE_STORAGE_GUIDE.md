# File Storage & Real-Time Access Guide

**Version:** 1.2.0  
**Date:** October 28, 2025  
**Status:** âœ… Production Ready

---

## ðŸ“‹ Overview

All files generated by agents are **immediately accessible** on your local machine through Docker volume mounts. No manual copying required!

---

## ðŸ“ Directory Structure

### Complete Layout

```
deployment/dscr-agent-system/
â”‚
â”œâ”€â”€ ðŸ³ Docker Files
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ deploy.sh
â”‚
â”œâ”€â”€ ðŸ¤– Agent Code
â”‚   â”œâ”€â”€ orchestrator.py
â”‚   â”œâ”€â”€ run_simulation.py
â”‚   â””â”€â”€ agents/
â”‚       â”œâ”€â”€ dataagent.py
â”‚       â”œâ”€â”€ calcagent.py
â”‚       â””â”€â”€ reportagent.py
â”‚
â”œâ”€â”€ ðŸ“ Logs (Real-Time Sync)
â”‚   â””â”€â”€ logs/
â”‚       â””â”€â”€ orchestrator.log
â”‚
â”œâ”€â”€ ðŸ“Š Analysis Results (Real-Time Sync)
â”‚   â””â”€â”€ results/
â”‚       â”œâ”€â”€ dscr_analysis_20251028_143022.json
â”‚       â”œâ”€â”€ simulation_results.json
â”‚       â””â”€â”€ batch_analysis.json
â”‚
â”œâ”€â”€ ðŸ“„ Generated Reports (Real-Time Sync)
â”‚   â””â”€â”€ exports/
â”‚       â”œâ”€â”€ reports/
â”‚       â”‚   â”œâ”€â”€ orlando_fashion_square_report.pdf
â”‚       â”‚   â”œâ”€â”€ investment_analysis.xlsx
â”‚       â”‚   â””â”€â”€ executive_summary.docx
â”‚       â””â”€â”€ data/
â”‚           â”œâ”€â”€ extracted_financials.csv
â”‚           â””â”€â”€ property_comparisons.csv
â”‚
â””â”€â”€ ðŸ“¥ Input Data (Real-Time Sync)
    â””â”€â”€ data/
        â”œâ”€â”€ properties_list.csv
        â””â”€â”€ market_data.json
```

---

## ðŸ”„ How Volume Mounting Works

### Docker Volume Mounts (Automatic)

```yaml
# From docker-compose.yml
volumes:
  - ./logs:/app/logs              # Bidirectional sync
  - ./results:/app/results        # Bidirectional sync
  - ./exports:/app/exports        # Bidirectional sync
  - ./data:/app/data             # Bidirectional sync
```

### What This Means

| Action | Where It Happens | Result |
|--------|------------------|--------|
| **Agent writes file** | Inside container `/app/results/` | Appears in host `./results/` immediately |
| **You add file** | On host `./data/` | Available in container `/app/data/` immediately |
| **Agent updates file** | Inside container | Updated on host in real-time |
| **You edit file** | On host | Changes visible in container immediately |

---

## ðŸ“Š File Types & Locations

### 1. Analysis Results (JSON)

**Purpose:** Structured data outputs from agent workflows

**Container Path:** `/app/results/`  
**Host Path:** `deployment/dscr-agent-system/results/`

**Files:**
```
results/
â”œâ”€â”€ dscr_analysis_20251028_143022.json
â”œâ”€â”€ simulation_results.json
â””â”€â”€ batch_analysis.json
```

**Access:**
```bash
# View latest result
cat results/dscr_analysis_*.json | jq .

# List all results
ls -lh results/

# Parse with Python
python -c "import json; print(json.load(open('results/dscr_analysis_*.json')))"
```

---

### 2. Generated Reports (PDF, Excel, Word)

**Purpose:** User-friendly formatted reports

**Container Path:** `/app/exports/reports/`  
**Host Path:** `deployment/dscr-agent-system/exports/reports/`

**Files:**
```
exports/reports/
â”œâ”€â”€ orlando_fashion_square_report.pdf
â”œâ”€â”€ investment_analysis.xlsx
â”œâ”€â”€ executive_summary.docx
â””â”€â”€ presentation_slides.pptx
```

**Access:**
```bash
# Open PDF report
open exports/reports/orlando_fashion_square_report.pdf

# Copy to Documents
cp exports/reports/*.pdf ~/Documents/

# Email reports
zip -r reports.zip exports/reports/
```

---

### 3. Exported Data (CSV, Excel)

**Purpose:** Extracted or transformed data

**Container Path:** `/app/exports/data/`  
**Host Path:** `deployment/dscr-agent-system/exports/data/`

**Files:**
```
exports/data/
â”œâ”€â”€ extracted_financials.csv
â”œâ”€â”€ property_comparisons.xlsx
â””â”€â”€ market_trends.csv
```

**Access:**
```bash
# View CSV
cat exports/data/extracted_financials.csv

# Import to Excel
open exports/data/property_comparisons.xlsx

# Process with Python/R
python analyze_data.py exports/data/extracted_financials.csv
```

---

### 4. System Logs

**Purpose:** Debugging and monitoring

**Container Path:** `/app/logs/`  
**Host Path:** `deployment/dscr-agent-system/logs/`

**Files:**
```
logs/
â”œâ”€â”€ orchestrator.log
â”œâ”€â”€ dataagent.log
â”œâ”€â”€ calcagent.log
â””â”€â”€ reportagent.log
```

**Access:**
```bash
# Tail logs in real-time
tail -f logs/orchestrator.log

# Search logs
grep "ERROR" logs/*.log

# View specific agent
cat logs/calcagent.log
```

---

### 5. Input Data

**Purpose:** Files you provide to agents

**Container Path:** `/app/data/`  
**Host Path:** `deployment/dscr-agent-system/data/`

**Files:**
```
data/
â”œâ”€â”€ properties_list.csv
â”œâ”€â”€ market_data.json
â””â”€â”€ historical_prices.xlsx
```

**Upload:**
```bash
# Add input file
cp ~/Downloads/properties.csv data/

# Verify it's available
docker exec dscr-agent-system ls /app/data/

# Use in agent
docker exec dscr-agent-system python orchestrator.py --input data/properties.csv
```

---

## ðŸš€ Real-World Examples

### Example 1: Generate PDF Report

```bash
# 1. User requests report
docker exec dscr-agent-system python orchestrator.py \
  --property "Orlando Fashion Square" \
  --output-format pdf

# 2. Agent processes request
# DataAgent â†’ CalcAgent â†’ ReportAgent

# 3. File appears immediately
ls exports/reports/
# orlando_fashion_square_report.pdf â† Appears here!

# 4. Open the report
open exports/reports/orlando_fashion_square_report.pdf
```

### Example 2: Batch Analysis with CSV Output

```bash
# 1. Run batch analysis
docker exec dscr-agent-system python run_simulation.py batch

# 2. Agent generates CSV
# Processing... Done!

# 3. CSV appears in exports/data/
ls exports/data/
# batch_analysis_results.csv â† Appears here!

# 4. Use the data
python analyze_results.py exports/data/batch_analysis_results.csv
```

### Example 3: Upload Custom Input Data

```bash
# 1. Prepare your data
cat > properties.csv << EOF
property_name,rental_income,debt_service
Orlando Fashion Square,1500000,1000000
Millenia Mall,2000000,1600000
EOF

# 2. Copy to data folder
cp properties.csv deployment/dscr-agent-system/data/

# 3. Run analysis with your data
docker exec dscr-agent-system python orchestrator.py \
  --input /app/data/properties.csv

# 4. Results appear in results/
cat results/analysis_*.json
```

---

## ðŸ“‚ File Naming Conventions

### Timestamps

All generated files include timestamps:
```
analysis_YYYYMMDD_HHMMSS.json
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”˜
      â”‚         Date   Time
      Type
```

Example:
```
dscr_analysis_20251028_143022.json
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”˜
                Oct 28, 2025  2:30:22 PM
```

### File Organization

```
results/
â”œâ”€â”€ dscr_analysis_20251028_143022.json    â† Single analysis
â”œâ”€â”€ simulation_results.json                â† Simulation outputs
â””â”€â”€ batch_analysis.json                    â† Batch processing

exports/reports/
â”œâ”€â”€ {property_name}_report_{date}.pdf      â† Property reports
â”œâ”€â”€ investment_analysis_{date}.xlsx        â† Financial analysis
â””â”€â”€ executive_summary_{date}.docx          â† Summaries

exports/data/
â”œâ”€â”€ extracted_{type}_{date}.csv           â† Extracted data
â””â”€â”€ comparison_{date}.xlsx                â† Comparisons
```

---

## ðŸ” Finding Your Files

### Quick Commands

```bash
# Find all PDFs
find exports/reports/ -name "*.pdf"

# Find today's results
find results/ -name "*$(date +%Y%m%d)*"

# Find by property name
find exports/ -name "*orlando*" -type f

# List recent files
ls -lt exports/reports/ | head -10

# Search file contents
grep -r "Orlando Fashion Square" results/
```

---

## ðŸ’¾ File Persistence

### What Happens When Container Stops?

**âœ… Files Are Safe!** All files in mounted volumes persist on your host machine.

```bash
# Stop container
docker-compose down

# Files are still on your machine
ls results/
ls exports/

# Start container again
docker-compose up -d

# Same files are still accessible
```

### Backup Strategy

```bash
# Backup all generated files
tar -czf backup_$(date +%Y%m%d).tar.gz \
  logs/ results/ exports/

# Backup just reports
zip -r reports_backup.zip exports/reports/

# Sync to cloud
rsync -av exports/ backup@server:/backups/
```

---

## ðŸŽ¯ Best Practices

### 1. Organize by Date
```bash
# Create dated subdirectories
mkdir -p exports/reports/2025-10-28/
```

### 2. Clean Old Files
```bash
# Remove files older than 30 days
find results/ -name "*.json" -mtime +30 -delete
```

### 3. Use Descriptive Names
```
# âœ… Good
orlando_fashion_square_dscr_report_2025-10-28.pdf

# âŒ Bad
report.pdf
```

### 4. Version Reports
```
# Keep versions
exports/reports/
â”œâ”€â”€ orlando_report_v1.pdf
â”œâ”€â”€ orlando_report_v2.pdf
â””â”€â”€ orlando_report_final.pdf
```

### 5. Separate by Project
```
exports/
â”œâ”€â”€ project_alpha/
â”œâ”€â”€ project_beta/
â””â”€â”€ project_gamma/
```

---

## ðŸ”§ Advanced: Custom File Paths

### In Your Agent Code

```python
# In ReportAgent
def generate_report(self, property_name: str):
    # Use /app/exports for user-facing files
    output_path = f"/app/exports/reports/{property_name}_report.pdf"
    
    # Generate report
    self.create_pdf(output_path)
    
    # Log the location
    logger.info(f"Report saved: {output_path}")
    logger.info(f"Host location: exports/reports/{property_name}_report.pdf")
```

### Custom Subdirectories

```python
# Create custom structure
import os
from pathlib import Path

# Create project-specific folder
project_dir = Path("/app/exports/projects/orlando_analysis")
project_dir.mkdir(parents=True, exist_ok=True)

# Save files
(project_dir / "report.pdf").write_bytes(pdf_content)
(project_dir / "data.csv").write_text(csv_data)
```

---

## ðŸ“Š Monitoring File Generation

### Watch for New Files

```bash
# Watch results directory
watch -n 1 ls -lh results/

# Monitor file creation
inotifywait -m exports/reports/ -e create
```

### File Size Tracking

```bash
# Check sizes
du -sh exports/*

# Find large files
find exports/ -size +10M
```

---

## ðŸ†˜ Troubleshooting

### Files Not Appearing?

**Check volume mounts:**
```bash
docker inspect dscr-agent-system | grep -A 10 Mounts
```

**Verify permissions:**
```bash
ls -la exports/
# Should be writable by your user
```

**Check container logs:**
```bash
docker-compose logs | grep "exports"
```

### Can't Access Files?

**Fix permissions:**
```bash
sudo chown -R $USER:$USER exports/
chmod -R 755 exports/
```

**Check if container is running:**
```bash
docker-compose ps
```

### Files Disappearing?

**Check if volumes are properly mounted:**
```bash
# Should show volume mounts
docker-compose config | grep volumes -A 5
```

---

## ðŸ“š Summary

| Location | Purpose | Access | Persistence |
|----------|---------|--------|-------------|
| `logs/` | System logs | Real-time | âœ… Permanent |
| `results/` | Analysis JSON | Real-time | âœ… Permanent |
| `exports/reports/` | PDF, Excel reports | Real-time | âœ… Permanent |
| `exports/data/` | Exported CSVs | Real-time | âœ… Permanent |
| `data/` | Input files | Real-time | âœ… Permanent |

**Key Points:**
- âœ… All files are immediately accessible on your local machine
- âœ… No manual copying required
- âœ… Files persist even when container stops
- âœ… Bidirectional sync (container â†” host)
- âœ… Real-time updates

---

**Your generated files are always safe and accessible!** ðŸŽ‰

